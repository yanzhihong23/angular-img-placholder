!function(){"use strict";angular.module("imgHttpSrc",[]).directive("httpSrc",["$http",function(t){var e={restrict:"A",link:function(e,r,c){c.placeholder&&c.$set("src",c.placeholder),c.$observe("httpSrc",function(e){e&&t({method:"GET",url:e,responseType:"arraybuffer",cache:"true"}).then(function(t){var e=new Blob([t.data],{type:t.headers("Content-Type")});c.$set("src",URL.createObjectURL(e))})})}};return e}]).directive("dataurlSrc",["$location",function(t){var e={restrict:"A",link:function(e,r,c){c.placeholder&&c.$set("src",c.placeholder);var n=new RegExp(t.host);c.$observe("dataurlSrc",function(t){if(t){if(!n.test(t))return void c.$set("src",t);var e=new Image;e.crossOrigin="*",e.onload=function(){var t,e=document.createElement("canvas"),r=e.getContext("2d");e.height=this.height,e.width=this.width,r.drawImage(this,0,0),t=e.toDataURL(),c.$set("src",t)},e.src=t}})}};return e}])}();