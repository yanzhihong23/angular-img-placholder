!function(){"use strict";angular.module("imgHttpSrc",[]).directive("httpSrc",["$http",function(t){var e={restrict:"A",link:function(e,r,c){c.placeholder&&c.$set("src",c.placeholder),c.$observe("httpSrc",function(e){e&&t({method:"GET",url:e,responseType:"arraybuffer",cache:"true"}).then(function(t){var e=new Blob([t.data],{type:t.headers("Content-Type")});c.$set("src",URL.createObjectURL(e))})})}};return e}]).directive("dataSrc",function(){var t={restrict:"A",link:function(t,e,r){r.placeholder&&r.$set("src",r.placeholder),r.$observe("httpSrc",function(t){if(t){var e=new Image;e.onload=function(){var t,e=document.createElement("canvas"),c=e.getContext("2d");e.height=this.height,e.width=this.width,c.drawImage(this,0,0),t=e.toDataURL(),r.$set("src",t)},e.src=t}})}};return t})}();